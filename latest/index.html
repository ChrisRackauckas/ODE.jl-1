<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Julia package for solving differential equations">
  
  
  <title>ODE.jl</title>
  

  <link rel="shortcut icon" href="./img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="./css/theme.css" type="text/css" />
  <link rel="stylesheet" href="./css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="./css/highlight.css">
  <link href="./assets/Documenter.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "None";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="./js/jquery-2.1.1.min.js"></script>
  <script src="./js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="./js/highlight.pack.js"></script>
  <script src="./js/theme.js"></script> 
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="./assets/mathjaxhelper.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> ODE.jl</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href=".">Home</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#odejl">ODE.jl</a></li>
                
                    <li><a class="toctree-l4" href="#top-level-interface">Top level interface</a></li>
                
                    <li><a class="toctree-l4" href="#iterator-interface">Iterator interface</a></li>
                
                    <li><a class="toctree-l4" href="#options">Options</a></li>
                
                    <li><a class="toctree-l4" href="#integrators">Integrators</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Manual</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="man/basics/">Basics</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="man/base/">Base</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Tutorials</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="tutorials/euler_integrator/">Fixed step integrator</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">ODE.jl</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/JuliaODE/ODE.jl" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <ul>
<li><a href="man/basics/#Basic-usage-1">Basic usage</a></li>
</ul>
<p><a id='ODE.jl-1'></a></p>
<h1 id="odejl">ODE.jl</h1>
<p><a id='Top-level-interface-1'></a></p>
<h2 id="top-level-interface">Top level interface</h2>
<p>If you are looking to getting a solution without the additional hussle of handling an iterator we provide the wrappers <code>ODE.odeXX</code>.  They provide a simplistic way of handling explicit differential equations of the form <code>y'=F(t,y)</code> with <code>y</code> being either a <code>Number</code> or an <code>AbstractArray</code> of any dimension.  Below we solve a simple initial value problem given by <code>y'=y</code> with initial data at <code>t0=0.0</code> and <code>y0=1.0</code> on the interval <code>[t0,1]</code>.</p>
<pre><code class="julia">using ODE
tspan  = [0.0,1.0]
y0     = 1.0
F(t,y) = y
(t,y)  = ODE.ode(F,y0,tspan)
</code></pre>

<pre><code>([6.05545e-6,3.63327e-5,0.000187719,0.000944651,0.00472931,0.0236526,0.118269,0.295886,0.477652,0.659618,0.841585,1.0],[1.00001,1.00004,1.00019,1.00095,1.00474,1.02393,1.12555,1.34432,1.61228,1.93405,2.32004,2.71828])
</code></pre>

<p>The vectors <code>t</code> and <code>y</code> store the time and solution values at the corresponding times.</p>
<p>You might find the basic interface limiting.  First of all, it stores all the results, so if you are only interested in the final value of <code>y</code> it still stores all the intermediate steps.  Secondly, you cannot process the results on the fly (e.g. plot the current state of a solution).  If you need more control you should consider using the iterator interface.</p>
<p><a id='Iterator-interface-1'></a></p>
<h2 id="iterator-interface">Iterator interface</h2>
<p>To offeset the limitations of the <code>ODE.ode</code> interface we implemented a general.  First we define an initial value problem, in our case this is an explicit differential equation <code>y'=y</code> with inital data <code>y0=[1.0]</code> given at the time <code>t0=0.0</code>.</p>
<pre><code class="julia">using ODE
t0  = 0.0
y0  = [1.0]
F!(t,y,dy) = dy[1]=y[1]
ode = ODE.ExplicitODE(t0,y0,F!)
</code></pre>

<pre><code>ODE.IVP{Float64,Array{Float64,1},Function,Void,Function}(0.0,[1.0],[6.90425e-310],ex-iterator.F!,nothing,ODE.jac!)
</code></pre>

<p>Note that unlike in <code>ODE.ode</code> we now have to supply an in place function <code>F!</code> instead of an explicit function <code>F</code>.  Now we are ready to produce the iterator that solvese to our problem.</p>
<pre><code class="julia">sol = ODE.solve(ode)
for (t,y) in sol
    @show (t,y)
    if t &gt; 1
        break
    end
end
</code></pre>

<pre><code>(t,y) = (6.055454452393343e-6,[1.00001])
(t,y) = (3.633272671436006e-5,[1.00004])
(t,y) = (0.00018771908802419363,[1.00019])
(t,y) = (0.0009446508945733616,[1.00095])
(t,y) = (0.004729309927319202,[1.00474])
(t,y) = (0.023652605091048398,[1.02393])
(t,y) = (0.11826908090969439,[1.12555])
(t,y) = (0.2958859009223397,[1.34432])
(t,y) = (0.47765152348716255,[1.61228])
(t,y) = (0.6596176824666204,[1.93405])
(t,y) = (0.8415848484689563,[2.32004])
(t,y) = (1.0235443711828829,[2.78304])
</code></pre>

<p>Note that we had to interrupt the loop because <code>sol</code> would be producing solutions ad infinitum (in theory, in practice we will get to the point where the solver won't be able to produce reasonable solution anymore).  To set the final integration time and other parameters of the integrator <code>integ</code> we can pass optional arguments to <code>ODE.solver</code>.</p>
<pre><code class="julia">sol = ODE.solve(ode; tstop = 1)
for (t,y) in sol
    @show (t,y)
end
</code></pre>

<pre><code>(t,y) = (6.055454452393343e-6,[1.00001])
(t,y) = (3.633272671436006e-5,[1.00004])
(t,y) = (0.00018771908802419363,[1.00019])
(t,y) = (0.0009446508945733616,[1.00095])
(t,y) = (0.004729309927319202,[1.00474])
(t,y) = (0.023652605091048398,[1.02393])
(t,y) = (0.11826908090969439,[1.12555])
(t,y) = (0.2958859009223397,[1.34432])
(t,y) = (0.47765152348716255,[1.61228])
(t,y) = (0.6596176824666204,[1.93405])
(t,y) = (0.8415848484689563,[2.32004])
(t,y) = (1.0,[2.71828])
</code></pre>

<p>This approach has the added benefit of the solution never exceeding the final time.  Apart from the time and value <code>(t,y)</code> the <code>ODE.solve</code> returns also the derivative, you can retrive it as the third argument in the returned tuple.  In the following example we use it compute the absolute error.</p>
<pre><code class="julia">sol = ODE.solve(ode; tstop = 1)
for (t,y,dy) in sol
    err = norm(y-dy)
    @show err
end
</code></pre>

<pre><code>err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
err = 0.0
</code></pre>

<p>With <code>tstop</code> specified we can also get all results at once using <code>collect</code>.</p>
<pre><code class="julia">res = collect(sol)
</code></pre>

<pre><code>12-element Array{Tuple{Float64,Array{Float64,1},Array{Float64,1}},1}:
 (6.05545e-6,[1.00001],[1.00001])
 (3.63327e-5,[1.00004],[1.00004])
 (0.000187719,[1.00019],[1.00019])
 (0.000944651,[1.00095],[1.00095])
 (0.00472931,[1.00474],[1.00474])
 (0.0236526,[1.02393],[1.02393])
 (0.118269,[1.12555],[1.12555])
 (0.295886,[1.34432],[1.34432])
 (0.477652,[1.61228],[1.61228])
 (0.659618,[1.93405],[1.93405])
 (0.841585,[2.32004],[2.32004])
 (1.0,[2.71828],[2.71828])
</code></pre>

<p>Note that <code>collect</code> returns a vector of triples <code>(t,y,dy)</code>.</p>
<p><a id='Options-1'></a></p>
<h2 id="options">Options</h2>
<p>Both <code>ODE.ode</code> and <code>ODE.solve</code> accept the following keyword arguments.</p>
<ul>
<li><code>integ</code>: the type of integrator to use, defaults to a adaptive Runge-Kutta method of order 4/5.  To see the list of available integrators see <a href="./@ref"><code>Integrators</code></a>.</li>
<li><code>initstep</code>: The initial step size, defaults to <code>eps(T)^(1/3)</code>.</li>
<li><code>tstop</code>: The final integration time, never exceeded by the integrator.  In case of <code>ODE.ode(F,y0,tspan)</code> this option defaults to the last element of <code>tspan</code> if it is a vector.  In <code>ODE.solve</code> the default is <code>tstop=Inf</code>.  If <code>tstop</code> is smaller then <code>t0</code> the integration runs backwards in time.</li>
</ul>
<p>Apart from these general options, each integrator has its own keyword arguments.  In particular all integrators with adaptive step size can be cotrolled with</p>
<ul>
<li><code>reltol</code>, <code>abstol</code>: The relative and absolute error tolerances.  The solution guarantees that at each step we have <code>norm((y-yc)*reltol.+abstol)&lt;=1</code>, where <code>yc</code> is a true solution to and IVP.  Defaults are <code>reltol=eps(T)^(1/3)/10</code>, <code>abstol=eps(T)^(1/2)/10</code>.</li>
<li><code>norm</code>: The norm used to measure error in the formula above, defaults to <code>y-&gt;Base.vecnorm(y,Inf)</code>.  You can specify it to assign different weights to different components of <code>y</code>.</li>
<li><code>minstep</code>, <code>maxstep</code>: Minimal and maximal stepsize for the integrator.  If at any point the stepsize exceeds these limits the integrator will yield an error and cease producing results.  Deafaults are <code>minstep=10*eps(T)</code> and <code>maxstep=1/minstep</code>.</li>
<li><code>maxiters</code>: The number of iterations before the integrator ceases to work, defaults to <code>Inf</code>.  Useful as a safeguard from iterator continuing ad infinitum.</li>
<li><code>isoutofdomain</code>: Applied to each component of <code>y</code>, if <code>isoutofdomain(y[i])==true</code> the integrator stops.  Defaults to <code>Base.isnan</code>.</li>
</ul>
<p>Apart from these, each integrator may support additional options.</p>
<p><a id='Integrators-1'></a></p>
<h2 id="integrators">Integrators</h2>
<p><a id='Explicit-Runge-Kutta-integrators-1'></a></p>
<h3 id="explicit-runge-kutta-integrators">Explicit Runge-Kutta integrators</h3>
<p><a id='Rosenbrock-methods-1'></a></p>
<h3 id="rosenbrock-methods">Rosenbrock methods</h3>
<p><a id='Backwards-differential-formula-(BDF)-methods-1'></a></p>
<h3 id="backwards-differential-formula-bdf-methods">Backwards differential formula (BDF) methods</h3>
<p><a id='???-1'></a></p>
<h3 id="_1">???</h3>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="man/basics/" class="btn btn-neutral float-right" title="Basics">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/JuliaODE/ODE.jl" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="man/basics/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>

<!--
MkDocs version : 0.15.3
Build Date UTC : 2016-07-31 10:38:24.402057
-->
